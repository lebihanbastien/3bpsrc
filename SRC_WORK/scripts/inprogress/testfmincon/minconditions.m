function [f] = minconditions(x0, N, msi, cr3bp, hL)

%--------------------------------------------------------------------------
% Maneuver at t1
%--------------------------------------------------------------------------
% State at t1
y1 = x0(1:6);
% Maneuver at t1
f = norm(y1(4:6) - msi.yv0(4:6));

%--------------------------------------------------------------------------
% Maneuver at tN
%--------------------------------------------------------------------------
% State at tN
yN = x0((N-1)*6+1:N*6);
% Maneuver at tN
ri = cr3bp.m2.Rm/cr3bp.L + hL;
f =  f + sqrt((yN(4) - yN(2))^2 + (yN(5) + yN(1) - cr3bp.m2.pos(1))^2 + yN(3)^2) - sqrt(cr3bp.mu/ri);

end

